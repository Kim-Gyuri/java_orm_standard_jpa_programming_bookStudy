## ğŸ“Œ ì‹¤ì „ì˜ˆì œ 1 - ìš”êµ¬ì‚¬í•­ ë¶„ì„ê³¼ ê¸°ë³¸ë§¤í•‘

### ìš”êµ¬ì‚¬í•­ ë¶„ì„
íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤. <br> ì£¼ë¬¸ ì‹œ, ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ìƒí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

------
### ë„ë©”ì¸ ëª¨ë¸ ë¶„ì„
![ì‹¤ì „ì˜ˆì œ1](https://user-images.githubusercontent.com/57389368/161900104-c8ec0e57-3fd7-4002-993a-9d04a95caea8.JPG)
+ `íšŒì›ê³¼ ì£¼ë¬¸ì˜ ê´€ê³„` : <br> íšŒì›ì€ ì—¬ëŸ¬ ë²ˆ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤. (ì¼ëŒ€ë‹¤)
+ `ì£¼ë¬¸ê³¼ ìƒí’ˆì˜ ê´€ê³„` : <br> ì£¼ë¬¸í•  ë•Œ ì—¬ëŸ¬ ìƒí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤. <br> ë°˜ëŒ€ë¡œ ê°™ì€ ìƒí’ˆë„ ì—¬ëŸ¬ ë²ˆ ì£¼ë¬¸ë  ìˆ˜ ìˆë‹¤. <br> ì£¼ë¬¸ìƒí’ˆ ì´ë¼ëŠ” ëª¨ë¸
ì„ ë§Œë“¤ì–´ì„œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì¼ë‹¤ëŒ€, ë‹¤ëŒ€ì¼ ê´€ê³„ë¡œ í’€ì–´ë‚¸ë‹¤.

------
### í…Œì´ë¸” ì„¤ê³„
ìš”êµ¬ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„í•œ í…Œì´ë¸” ERDë‹¤.
![ì‹¤ì „ì˜ˆì œ1_2](https://user-images.githubusercontent.com/57389368/161900522-cff09853-e1ad-45b6-980e-6aaf3a24825f.JPG)
+ `íšŒì›` : <br> ì´ë¦„ê³¼ ì£¼ì†Œ ì •ë³´ë¥¼ ê°€ì§„ë‹¤. <br> ì£¼ì†ŒëŠ” CITY, STREET, ZIPCODEë¡œ í‘œí˜„í•œë‹¤.
+ `ì£¼ë¬¸` : <br> ìƒí’ˆì„ ì£¼ë¬¸í•œ íšŒì›ì„ ì™¸ë˜í‚¤ë¡œ ê°€ì§„ë‹¤. <br> ì£¼ë¬¸ë‚ ì§œ ì£¼ë¬¸ìƒíƒœ(ì£¼ë¬¸/ì·¨ì†Œ)ë¥¼ ê°€ì§„ë‹¤.
+ `ì£¼ë¬¸ìƒí’ˆ` : <br> ì£¼ë¬¸ê³¼ ì£¼ë¬¸í•œ ìƒí’ˆì„ ì™¸ë˜í‚¤ë¡œ ê°€ì§„ë‹¤. <br> ì£¼ë¬¸ê¸ˆì•¡,ì£¼ë¬¸ìˆ˜ëŸ‰ ì •ë³´ë¥¼ ê°€ì§„ë‹¤.
+ `ìƒí’ˆ` : <br> ì´ë¦„,ê°€ê²©,ì¬ê³ ìˆ˜ëŸ‰ì„ ê°€ì§„ë‹¤. ìƒí’ˆì„ ì£¼ë¬¸í•˜ë©´ ì¬ê³ ìˆ˜ëŸ‰ì´ ì¤„ì–´ë“ ë‹¤.

------
### ì—”í‹°í‹° ì„¤ê³„ì™€ ë§¤í•‘
ì„¤ê³„í•œ í…Œì´ë¸”ì„ ê¸°ë°˜ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ë³´ì. <br>
ì•„ë˜ ê·¸ë¦¼ì€ ì„¤ê³„í•œ í…Œì´ë¸”ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ì„¤ê³„í•œ UMLì´ë‹¤. <br>
![ì‹¤ì „ì˜ˆì œ1_3](https://user-images.githubusercontent.com/57389368/161901431-8899f342-a1d7-4872-8164-1c5a6f016aef.JPG)
+ ì‹ë³„ìëŠ” @Id, @GeneratedValueë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìë™ ìƒì„±ë˜ë„ë¡ í–ˆë‹¤.
+ @GeneratedValueì˜ ê¸°ë³¸ ìƒì„± ì „ëµì€ AUTOì´ë¯€ë¡œ ì„ íƒí•œ ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸ì— ë”°ë¼ IDENTITY, SEQUENCE, TABLE ì¤‘ í•˜ë‚˜ê°€ ì„ íƒëœë‹¤.
+ ì´ë²ˆ ì˜ˆì œëŠ” H2 ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, H2 DBëŠ” SEQUENCEë¥¼ ì‚¬ìš©í•œë‹¤.

> Getterë¥¼ ê°€ê¸‰ì  ë§Œë“¤ì–´ ë‘ëŠ”ê²Œ ì¢‹ê³ , SetterëŠ” ì¡°ê¸ˆ ê³ ë¯¼í•  í•„ìš”ê°€ ìˆë‹¤. <br> Setterë¥¼ ì—´ì–´ë‘ë©´ ì–´ë””ë“  set ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ, ì½”ë“œ ì¶”ì í•˜ê¸°ì—ëŠ” ì•ˆ ì¢‹ë‹¤, <br> ìš”ì§€ë³´ìˆ˜ì„±ì´ ë‚®ì•„ì§„ë‹¤. 

<br>

------
### `Member ì—”í‹°í‹°`
<details>
<summary>Member ì—”í‹°í‹°</summary>
<div markdown="1">
  
```java
package jpadomain.domainmodel.domain.entity;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Entity
public class Member {

    @Id @GeneratedValue
    @Column(name="MEMBER_ID")
    private Long id;

    private String name;
    private String zipcode;
    private String street;

}
```
</div>
</details>

### `Order ì—”í‹°í‹°`
<details>
<summary>Order ì—”í‹°í‹°</summary>
<div markdown="1">
  
```java
package jpadomain.domainmodel.domain.entity;

import lombok.Getter;
import lombok.Setter;

import javax.persistence.*;
import java.util.Date;

@Entity
@Table(name = "ORDERS")
@Getter @Setter
public class Order {

    @Id @GeneratedValue
    @Column(name = "ORDER_ID")
    private Long id;

    @Column(name = "MEMBER_ID")
    private Long memberId;

    @Temporal(TemporalType.TIMESTAMP)
    private Date orderDate;

    @Enumerated(EnumType.STRING)
    private OrderStatus status;
}

```
</div>
</details>


> í…Œì´ë¸”ëª…ì„ 'ORDERS'ë¡œ í–ˆë‹¤. order ëŠ” ì˜ˆì•½ì–´ë¼ì„œ í…Œì´ë¸”ëª…ì´ë‚˜ ì»¬ëŸ¼ëª…ì— ì‚¬ìš©í•˜ì‹œë©´ ì•ˆëœë‹¤. <br>
> ì£¼ë¬¸ ë‚ ì§œëŠ” Dateë¥¼ ì‚¬ìš©í•˜ê³  ë…„ì›”ì¼ ì‹œë¶„ì´ˆë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ë¯€ë¡œ @Temporal.TiMESTAMP ì†ì„±ì„ ì“´ë‹¤. <br>
> ì£¼ë¬¸ ìƒíƒœëŠ” ì—´ê±°í˜•ì„ ì‚¬ìš©í•˜ë¯€ë¡œ @Enumerated(EnumType.STRING) ì†ì„±ì„ ì§€ì •í•´ ì—´ê±°í˜•ì˜ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì €ì¥ë˜ë„ë¡ í–ˆë‹¤. <br>
> ì°¸ê³ ë¡œ @Temporalì„ ìƒëµí•˜ë©´ @Temporal(TemporalType.TIMESTAMP)ì™€ ê°™ìœ¼ë¯€ë¡œ ì˜ˆì œì—ì„œëŠ” ìƒëµí•´ë„ ëœë‹¤. <br>
> OrderStatus ì—´ê±°í˜•ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì£¼ë¬¸/ì·¨ì†Œë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

### ` ì£¼ë¬¸ìƒí’ˆ ì—”í‹°í‹°`
<details>
<summary>OrderItem ì—”í‹°í‹°</summary>
<div markdown="1">
  
```java
package jpadomain.domainmodel.domain.entity;

import lombok.Getter;
import lombok.Setter;

import javax.persistence.*;

@Entity
@Table(name = "ORDER_ITEM")
@Getter @Setter
public class OrderItem {

    @Id @GeneratedValue
    @Column(name = "ORDER_ITEM_ID")
    private Long id;

    @Column(name = "ITEM_ID")
    private Long itemId;

    @Column(name = "ORDER_ID")
    private Long orderId;

    private int orderPrice;
    private int count;
}

```
</div>
</details>

### `ìƒí’ˆ ì—”í‹°í‹°` 
<details>
<summary>OrderItem ì—”í‹°í‹°</summary>
<div markdown="1">
  
```java
package jpadomain.domainmodel.domain.entity;

import lombok.Getter;
import lombok.Setter;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Entity
@Getter @Setter
public class Item {

    @Id @GeneratedValue
    @Column(name = "ITEM_ID")
    private Long id;

    private String name;
    private int price;
    private int stockQuantity;

}

```
</div>
</details>

### `OrderStatus` 
<details>
<summary>OrderStatus ì—”í‹°í‹°</summary>
<div markdown="1">
  
```java
package jpadomain.domainmodel.domain.entity;

public enum  OrderStatus {

    ORDER, CANCEL
}
```
</div>
</details>

<br>

### run ì‹¤í–‰ ê²°ê³¼
<details>
<summary>ì„¤ì •íŒŒì¼</summary>
<div markdown="1">
  
```
spring:
  datasource:
    url: jdbc:h2:tcp://localhost/~/domainmodel
    username: sa
    password:
    driver-class-name: org.h2.Driver

  jpa:
    hibernate:
      ddl-auto: create
    properties:
      hibernate:
#        show_sql: true
        format_sql: true

logging.level:
  org.hibernate.SQL: debug
#  org.hibernate.type: trace

```
</div>
</details>

+ ì„¤ì •íŒŒì¼ application.ymlì„ ë§Œë“¤ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ ìƒì„±ëœ í…Œì´ë¸”ì„ í™•ì¸í•´ë³´ì.
> Spring initializrì„ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ gradleë¡œ ë§Œë“¤ì—ˆë‹¤.

+ ìƒì„±ëœ í…Œì´ë¸” 
```
    create table item (
       item_id bigint not null,
        name varchar(255),
        price integer not null,
        stock_quantity integer not null,
        primary key (item_id)
    )

    create table member (
       member_id bigint not null,
        name varchar(255),
        street varchar(255),
        zipcode varchar(255),
        primary key (member_id)
    )

    create table order_item (
       order_item_id bigint not null,
        count integer not null,
        item_id bigint,
        order_id bigint,
        order_price integer not null,
        primary key (order_item_id)
    )

    create table orders (
       order_id bigint not null,
        member_id bigint,
        order_date timestamp,
        status varchar(255),
        primary key (order_id)
    )
 ```   








